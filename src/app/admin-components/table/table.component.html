<app-table-toolbar
  [sortOptions]="['name', 'city', 'sector']"
  [filters]="[
    { key: 'sector', label: 'Sector', options: sectorOptions },
    { key: 'city', label: 'City', options: cityOptions }
  ]"
  [showAdd]="true"
  (changed)="onTableChange($event)"
  (add)="add.emit()"
/>

<!-- Table -->
<div class="overflow-x-auto  border border-[var(--input-border)] bg-[var(--cloud)] shadow hover:shadow-lg transition-all duration-300">
  <table class="min-w-full text-sm text-left text-[var(--gray-light)]">
    <thead class="bg-[var(--primary)] text-[var(--gray-light)] uppercase text-xs font-bold">
      <tr class="border-b border-[var(--input-border)]">
        <th *ngFor="let col of columns" class="px-6 py-4">{{ col.label }}</th>
      </tr>
    </thead>

    <tbody>
      <tr
        *ngFor="let row of data"
        class="border-b border-[var(--input-border)] hover:bg-[var(--primary)] transition-all duration-150 group"
      >
        <td *ngFor="let col of columns" class="px-6 py-4 whitespace-nowrap">
          <ng-container [ngSwitch]="col.type || 'text'">
            <span *ngSwitchCase="'text'" [class]="col.class">{{ row[col.key] }}</span>
            <span *ngSwitchCase="'badge'" class="inline-block px-3 py-1 text-xs font-medium rounded-full bg-[var(--primary)] text-[var(--accent)] border border-[var(--accent)]">{{ row[col.key] || 'â€”' }}</span>
            <span *ngSwitchCase="'number'" class="inline-flex items-center justify-center w-8 h-8 text-xs font-bold rounded-full bg-[var(--primary)] text-[var(--accent)] border border-[var(--accent)]">{{ row[col.key] || 0 }}</span>
            <span *ngSwitchCase="'custom'">{{ col.render ? col.render(row) : row[col.key] }}</span>

            <!-- Actions -->
            <ng-container *ngSwitchCase="'actions'">
              <div class="flex gap-2 justify-end">
                <button
                  class="text-[var(--accent)] hover:text-opacity-80 font-semibold transition hover:translate-x-1"
                  (click)="onEdit(row)"
                >
                  <i class="fas fa-pen mr-1"></i>Edit
                </button>
                <button
                  class="text-red-400 hover:text-red-600 font-semibold transition hover:scale-105"
                  (click)="onDelete(row)"
                >
                  <i class="fas fa-trash-alt mr-1"></i>Delete
                </button>
              </div>
            </ng-container>
          </ng-container>
        </td>
      </tr>
    </tbody>
  </table>
</div>
